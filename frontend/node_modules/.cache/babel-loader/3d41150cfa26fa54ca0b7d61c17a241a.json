{"ast":null,"code":"var _jsxFileName = \"/Users/sujalbajaj/Desktop/quizdom/frontend/src/screens/CreateQuiz.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport './CreateQuiz.css';\nimport AddQuestionModal from '../components/AddQuestionModal';\nimport QuestionsTable from '../components/QuestionsTable';\nimport { Switch } from '@material-ui/core';\nimport LoadingScreen from './LoadingScreen';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateQuiz = ({\n  user,\n  quizTitle,\n  questions,\n  isOpen,\n  editQuizHandle\n}) => {\n  _s();\n  const [questionArray, setQuestionArray] = useState([]);\n  const [title, setTitle] = useState('');\n  const [access, setAccesss] = useState(true);\n  const [loading, setLoading] = useState('stop');\n  const [quizCode, setQuizCode] = useState(null);\n  const addQuestionHandle = (title, optionType, options) => {\n    const arr = [...questionArray];\n    arr.push({\n      title,\n      optionType,\n      options\n    });\n    setQuestionArray(arr);\n  };\n  useEffect(() => {\n    if (quizTitle) {\n      setTitle(quizTitle);\n      setQuestionArray(questions);\n      setAccesss(isOpen);\n    }\n  }, [quizTitle, questions, isOpen]);\n  const createQuiz = async () => {\n    if (!(title.length || questionArray.length)) {\n      alert('Please add title and questions.');\n      return;\n    } else if (!title.length) {\n      alert('Please add Quiz title.');\n      return;\n    } else if (!questionArray.length) {\n      alert('Please add any questions.');\n      return;\n    }\n    console.log('Quiz Creation Starts...');\n    setLoading('start');\n    try {\n      const result = await fetch('/API/quizzes/create', {\n        method: 'POST',\n        body: JSON.stringify({\n          title,\n          uid: user.uid,\n          questions: questionArray,\n          isOpen: access\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      console.log('Quiz posted ! ');\n      const body = await result.json();\n      console.log('Quiz Code : ', body.quizId);\n      setQuizCode(body.quizId);\n    } catch (e) {\n      console.log('Quiz creation error : ', e);\n      setLoading('error');\n    }\n  };\n  if (quizCode) return /*#__PURE__*/_jsxDEV(Redirect, {\n    push: true,\n    to: `/created-succesfully/${quizCode}`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 23\n  }, this);\n  if (loading === 'start') return /*#__PURE__*/_jsxDEV(LoadingScreen, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 34\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"main-body\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"create-quiz-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quiz-header\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"input-text\",\n          value: title,\n          onChange: e => setTitle(e.target.value),\n          id: \"quiz-title\",\n          placeholder: \"Untitled Quiz\",\n          autoFocus: true,\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls\",\n        children: [/*#__PURE__*/_jsxDEV(AddQuestionModal, {\n          addQuestionHandle: addQuestionHandle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"switch\",\n          children: [/*#__PURE__*/_jsxDEV(Switch, {\n            checked: access,\n            onChange: e => setAccesss(e.target.checked),\n            color: \"secondary\",\n            name: \"access\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: access ? 'Public' : 'Private'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"questionTable\",\n      children: /*#__PURE__*/_jsxDEV(QuestionsTable, {\n        questionArray: questionArray,\n        setQuestionArray: setQuestionArray\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [quizTitle && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-btn\",\n        onClick: () => editQuizHandle(),\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        // disabled={!(title.length && questionArray.length)}\n        className: \"button wd-200\",\n        onClick: () => {\n          if (quizTitle) editQuizHandle(title, questionArray, access);else createQuiz();\n        },\n        children: [quizTitle ? 'Save ' : 'Create ', \"Quiz\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 3\n  }, this);\n};\n_s(CreateQuiz, \"Bog1JSneTiYZgYsD88zCOc7sgpY=\");\n_c = CreateQuiz;\nexport default CreateQuiz;\nvar _c;\n$RefreshReg$(_c, \"CreateQuiz\");","map":{"version":3,"names":["React","useState","useEffect","Redirect","AddQuestionModal","QuestionsTable","Switch","LoadingScreen","jsxDEV","_jsxDEV","CreateQuiz","user","quizTitle","questions","isOpen","editQuizHandle","_s","questionArray","setQuestionArray","title","setTitle","access","setAccesss","loading","setLoading","quizCode","setQuizCode","addQuestionHandle","optionType","options","arr","push","createQuiz","length","alert","console","log","result","fetch","method","body","JSON","stringify","uid","headers","json","quizId","e","to","fileName","_jsxFileName","lineNumber","columnNumber","id","children","className","type","value","onChange","target","placeholder","autoFocus","autoComplete","checked","color","name","onClick","_c","$RefreshReg$"],"sources":["/Users/sujalbajaj/Desktop/quizdom/frontend/src/screens/CreateQuiz.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport './CreateQuiz.css'\nimport AddQuestionModal from '../components/AddQuestionModal'\nimport QuestionsTable from '../components/QuestionsTable'\nimport { Switch } from '@material-ui/core'\nimport LoadingScreen from './LoadingScreen'\n\nconst CreateQuiz = ({\n\tuser,\n\tquizTitle,\n\tquestions,\n\n\tisOpen,\n\teditQuizHandle\n}) => {\n\tconst [questionArray, setQuestionArray] = useState([])\n\tconst [title, setTitle] = useState('')\n\tconst [access, setAccesss] = useState(true)\n\tconst [loading, setLoading] = useState('stop')\n\tconst [quizCode, setQuizCode] = useState(null)\n\n\tconst addQuestionHandle = (title, optionType, options) => {\n\t\tconst arr = [...questionArray]\n\t\tarr.push({ title, optionType, options })\n\t\tsetQuestionArray(arr)\n\t}\n\tuseEffect(() => {\n\t\tif (quizTitle) {\n\t\t\tsetTitle(quizTitle)\n\t\t\tsetQuestionArray(questions)\n\t\t\tsetAccesss(isOpen)\n\t\t}\n\t}, [quizTitle, questions, isOpen])\n\n\tconst createQuiz = async () => {\n\t\tif (!(title.length || questionArray.length)) {\n\t\t\talert('Please add title and questions.')\n\t\t\treturn\n\t\t} else if (!title.length) {\n\t\t\talert('Please add Quiz title.')\n\t\t\treturn\n\t\t} else if (!questionArray.length) {\n\t\t\talert('Please add any questions.')\n\t\t\treturn\n\t\t}\n\t\tconsole.log('Quiz Creation Starts...')\n\t\tsetLoading('start')\n\t\ttry {\n\t\t\tconst result = await fetch('/API/quizzes/create', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\ttitle,\n\t\t\t\t\tuid: user.uid,\n\t\t\t\t\tquestions: questionArray,\n\t\t\t\t\tisOpen: access\n\t\t\t\t}),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t})\n\t\t\tconsole.log('Quiz posted ! ')\n\t\t\tconst body = await result.json()\n\t\t\tconsole.log('Quiz Code : ', body.quizId)\n\t\t\tsetQuizCode(body.quizId)\n\t\t} catch (e) {\n\t\t\tconsole.log('Quiz creation error : ', e)\n\t\t\tsetLoading('error')\n\t\t}\n\t}\n\tif (quizCode) return <Redirect push to={`/created-succesfully/${quizCode}`} />\n\n\tif (loading === 'start') return <LoadingScreen />\n\n\treturn (\n\t\t<div id='main-body'>\n\t\t\t<div id='create-quiz-body'>\n\t\t\t\t<div className='quiz-header'>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tclassName='input-text'\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\tonChange={(e) => setTitle(e.target.value)}\n\t\t\t\t\t\tid='quiz-title'\n\t\t\t\t\t\tplaceholder='Untitled Quiz'\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className='controls'>\n\t\t\t\t\t<AddQuestionModal addQuestionHandle={addQuestionHandle} />\n\t\t\t\t\t<div className='switch'>\n\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\tchecked={access}\n\t\t\t\t\t\t\tonChange={(e) => setAccesss(e.target.checked)}\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tname='access'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<h4>{access ? 'Public' : 'Private'}</h4>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='questionTable'>\n\t\t\t\t<QuestionsTable\n\t\t\t\t\tquestionArray={questionArray}\n\t\t\t\t\tsetQuestionArray={setQuestionArray}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t{quizTitle && (\n\t\t\t\t\t<button className='add-btn' onClick={() => editQuizHandle()}>\n\t\t\t\t\t\tClose\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t<button\n\t\t\t\t\t// disabled={!(title.length && questionArray.length)}\n\t\t\t\t\tclassName='button wd-200'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (quizTitle) editQuizHandle(title, questionArray, access)\n\t\t\t\t\t\telse createQuiz()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{quizTitle ? 'Save ' : 'Create '}\n\t\t\t\t\tQuiz\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default CreateQuiz\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}